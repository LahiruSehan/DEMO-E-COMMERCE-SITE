<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SHANI FASHION | Premium Modern Style</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --gold: #d4af37; 
            --accent: #b48a3e;
            --glass: rgba(255, 255, 255, 0.04);
            --glass-border: rgba(255, 255, 255, 0.1);
            --bg: #050505;
        }
        
        body { 
            font-family: 'Outfit', sans-serif; 
            background-color: var(--bg); 
            color: #ffffff; 
            overflow-x: hidden;
            scroll-behavior: smooth;
        }
        
        h1, h2, h3, h4, .font-display { font-family: 'Playfair Display', serif; }

        .glass { 
            background: var(--glass); 
            backdrop-filter: blur(30px); 
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .glass-bright {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .gold-glow {
            text-shadow: 0 0 15px rgba(180, 138, 62, 0.4);
            background: linear-gradient(to right, #b48a3e, #f9e1a9, #b48a3e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .view { display: none; opacity: 0; transition: opacity 0.6s ease; }
        .view.active { display: block; opacity: 1; }

        .btn-premium {
            background: linear-gradient(135deg, #b48a3e 0%, #d4af37 100%);
            color: #000;
            font-weight: 700;
            letter-spacing: 0.1em;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(180, 138, 62, 0.3);
            text-transform: uppercase;
        }
        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(180, 138, 62, 0.5);
        }

        .form-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1rem 1.25rem;
            color: #fff;
            outline: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
        }
        .form-input:focus {
            border-color: var(--accent);
            background: rgba(255, 255, 255, 0.06);
            box-shadow: 0 0 20px rgba(180, 138, 62, 0.1);
        }
        .form-input::placeholder { color: rgba(255, 255, 255, 0.2); }

        .nav-link {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: rgba(255,255,255,0.5);
            transition: all 0.3s;
            position: relative;
        }
        .nav-link:hover { color: #fff; }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px; left: 0; width: 0; height: 1px;
            background: var(--gold);
            transition: width 0.3s;
        }
        .nav-link:hover::after { width: 100%; }

        .modal-container { 
            position: fixed; inset: 0; z-index: 2000; display: none; align-items: center; justify-content: center; padding: 20px; 
            background: rgba(0,0,0,0.9); backdrop-filter: blur(8px);
        }
        .modal-container.active { display: flex; animation: modalIn 0.4s ease; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .modal-content {
            position: relative;
            width: 100%;
            background: #0a0a0a;
            border-radius: 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .close-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            z-index: 100;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            color: rgba(255,255,255,0.5);
            transition: all 0.3s ease;
        }
        .close-btn:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
            transform: rotate(90deg);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        .product-card {
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .product-card:hover { transform: translateY(-10px); }

        .marquee-container {
            background: rgba(180, 138, 62, 0.05);
            border-top: 1px solid rgba(180, 138, 62, 0.1);
            border-bottom: 1px solid rgba(180, 138, 62, 0.1);
            padding: 0.75rem 0;
            overflow: hidden;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "vite": "https://esm.sh/vite@^7.3.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2"
  }
}
</script>
</head>
<body class="no-scrollbar">
    <canvas id="particle-canvas" class="fixed inset-0 pointer-events-none z-[9999]" style="mix-blend-mode: screen; opacity: 0.4;"></canvas>

    <!-- HEADER -->
    <header class="fixed top-0 left-0 w-full z-[100] transition-all duration-500 px-6 py-5 flex justify-between items-center bg-transparent" id="main-header">
        <div class="flex items-center space-x-3 cursor-pointer group" onclick="window.switchView('user')">
            <div class="w-10 h-10 border border-white/20 rounded-xl flex items-center justify-center group-hover:border-amber-500 transition-all duration-500">
                <span class="text-white font-bold group-hover:text-amber-500">S</span>
            </div>
            <h1 class="text-2xl font-display uppercase tracking-[0.2em] font-bold gold-glow">Shani</h1>
        </div>
        
        <nav class="hidden lg:flex items-center space-x-12">
            <button onclick="window.switchView('user')" class="nav-link">Catalog</button>
            <button id="nav-profile-btn" onclick="window.switchView('profile')" class="nav-link hidden">Profile</button>
            <button id="nav-admin-btn" onclick="window.switchView('admin')" class="nav-link hidden">Admin</button>
        </nav>

        <div class="flex items-center space-x-6">
            <button id="auth-btn" onclick="window.openModal('auth')" class="text-[10px] uppercase tracking-widest text-white/70 hover:text-white transition-colors border border-white/10 px-6 py-2 rounded-full hover:bg-white/5">Account</button>
            <button id="cart-trigger" onclick="window.toggleCart(true)" class="relative p-2.5 glass rounded-full hover:border-amber-500/50 transition-all">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg>
                <span id="cart-badge" class="absolute -top-1 -right-1 bg-amber-500 text-black text-[9px] font-bold w-4 h-4 rounded-full hidden items-center justify-center">0</span>
            </button>
        </div>
    </header>

    <!-- MAIN VIEW: USER STORE -->
    <div id="user-view" class="view active">
        <!-- HERO -->
        <section class="relative min-h-[90vh] flex items-center pt-24 px-6 overflow-hidden">
            <div class="container mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                <div class="z-10 space-y-10 animate-fade-in">
                    <div class="inline-flex items-center space-x-3 px-4 py-1.5 glass rounded-full">
                        <span class="w-2 h-2 rounded-full bg-amber-500 animate-pulse"></span>
                        <span class="text-[10px] uppercase tracking-[0.3em] text-white/70 font-bold">New Collection 2025</span>
                    </div>
                    <h2 class="text-7xl md:text-[9rem] font-display leading-[0.85] italic">Modern <br><span class="gold-glow">Elegance</span></h2>
                    <p class="text-lg text-white/40 max-w-lg leading-relaxed font-light">Redefining luxury through minimalist craft and impeccable style. Find your signature look today.</p>
                    <div class="flex flex-wrap gap-6 pt-4">
                        <button onclick="document.getElementById('catalog-section').scrollIntoView({behavior:'smooth'})" class="btn-premium px-12 py-5 rounded-2xl text-xs">Browse Shop</button>
                        <button class="px-12 py-5 rounded-2xl border border-white/10 text-xs uppercase tracking-widest hover:bg-white/5 transition-all">Lookbook</button>
                    </div>
                </div>
                <div class="relative h-[650px] hidden lg:block animate-slide-up">
                    <div class="absolute top-0 right-0 w-[85%] h-full rounded-[4rem] overflow-hidden glass border-white/10">
                        <img src="https://images.unsplash.com/photo-1539109136881-3be0616acf4b?auto=format&fit=crop&q=80&w=1200" class="w-full h-full object-cover opacity-80" alt="Model">
                    </div>
                    <div class="absolute -bottom-10 left-0 w-[55%] h-[75%] rounded-[4rem] overflow-hidden glass border-white/20 z-20">
                        <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?auto=format&fit=crop&q=80&w=1000" class="w-full h-full object-cover opacity-90" alt="Fashion">
                    </div>
                </div>
            </div>
            <div class="absolute -top-40 -left-40 w-[600px] h-[600px] bg-amber-500/5 blur-[180px] rounded-full"></div>
            <div class="absolute bottom-0 right-0 w-[400px] h-[400px] bg-blue-500/5 blur-[150px] rounded-full"></div>
        </section>

        <div id="catalog-section" class="container mx-auto px-6 py-32">
            <div class="flex flex-col md:flex-row justify-between items-end mb-20 gap-10">
                <div>
                    <h3 class="text-5xl font-display italic mb-3">Our Collection</h3>
                    <p class="text-xs uppercase tracking-widest text-white/30">Curated designs for the modern wardrobe</p>
                </div>
                <div id="filter-bar" class="flex items-center space-x-4 overflow-x-auto pb-4 no-scrollbar max-w-full"></div>
            </div>
            <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-12"></div>
        </div>
    </div>

    <!-- PROFILE VIEW -->
    <div id="profile-view" class="view">
        <div class="container mx-auto px-6 py-40">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-16">
                <div class="space-y-10">
                    <div class="glass p-12 rounded-[3.5rem] text-center border-white/10">
                        <div class="relative w-36 h-36 mx-auto mb-8">
                            <div class="absolute inset-0 bg-amber-500/10 blur-2xl rounded-full"></div>
                            <div class="relative w-full h-full glass-bright rounded-full flex items-center justify-center border-amber-500/20">
                                <span class="text-amber-500 text-6xl font-display">S</span>
                            </div>
                        </div>
                        <h3 id="profile-name-display" class="text-3xl font-display italic">Member</h3>
                        <p id="profile-email-display" class="text-xs text-white/30 mt-2 tracking-widest">user@example.com</p>
                        <button onclick="window.logout()" class="mt-12 px-8 py-3 rounded-full border border-red-500/20 text-red-500 text-[10px] uppercase font-bold tracking-widest hover:bg-red-500/10 transition-all">Sign Out</button>
                    </div>
                    
                    <div class="glass p-10 rounded-[3rem] border-white/10 space-y-8">
                        <h4 class="text-xs uppercase tracking-widest text-amber-500 font-bold border-b border-white/5 pb-4">Personal Details</h4>
                        <div class="space-y-5">
                            <input type="text" id="edit-name" placeholder="Full Name" class="form-input">
                            <input type="text" id="edit-phone" placeholder="Phone Number" class="form-input">
                            <textarea id="edit-address" placeholder="Shipping Address" class="form-input h-32"></textarea>
                            <button onclick="window.updateProfile()" class="btn-premium w-full py-5 rounded-2xl text-xs">Save Profile</button>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-2 space-y-20">
                    <section>
                        <h3 class="text-5xl font-display italic mb-12">Order History</h3>
                        <div id="order-history" class="space-y-10"></div>
                    </section>
                    <section>
                        <h3 class="text-5xl font-display italic mb-12">Updates</h3>
                        <div id="notification-list" class="space-y-6"></div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- ADMIN VIEW -->
    <div id="admin-view" class="view">
        <div class="container mx-auto px-6 py-40">
            <div class="flex justify-between items-end mb-20">
                <div>
                    <h2 class="text-6xl font-display italic">Store Dashboard</h2>
                    <p class="text-xs uppercase tracking-widest text-white/30 mt-3">Control your inventory and sales</p>
                </div>
                <button onclick="window.openModal('add-product')" class="btn-premium px-10 py-5 rounded-2xl text-xs">Add Item</button>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-24">
                <div class="glass p-10 rounded-[2.5rem] border-white/10 text-center">
                    <p class="text-[10px] uppercase text-white/30 mb-3 tracking-widest">Revenue</p>
                    <p id="admin-revenue" class="text-4xl font-display italic gold-glow">Rs. 0</p>
                </div>
                <div class="glass p-10 rounded-[2.5rem] border-white/10 text-center">
                    <p class="text-[10px] uppercase text-white/30 mb-3 tracking-widest">Orders</p>
                    <p id="admin-order-count" class="text-4xl font-display italic gold-glow">0</p>
                </div>
                <div class="glass p-10 rounded-[2.5rem] border-white/10 text-center">
                    <p class="text-[10px] uppercase text-white/30 mb-3 tracking-widest">In Stock</p>
                    <p id="admin-product-count" class="text-4xl font-display italic gold-glow">0 Items</p>
                </div>
                <div class="glass p-10 rounded-[2.5rem] border-white/10 text-center">
                    <p class="text-[10px] uppercase text-white/30 mb-3 tracking-widest">Chat Queue</p>
                    <p id="admin-qa-count" class="text-4xl font-display italic gold-glow">0</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-20">
                <section>
                    <h3 class="text-2xl font-display italic mb-10 uppercase tracking-[0.3em] border-b border-white/5 pb-5">Recent Orders</h3>
                    <div id="admin-order-list" class="space-y-6"></div>
                </section>
                <section>
                    <h3 class="text-2xl font-display italic mb-10 uppercase tracking-[0.3em] border-b border-white/5 pb-5">Questions</h3>
                    <div id="admin-qa-list" class="space-y-6"></div>
                </section>
            </div>
        </div>
    </div>

    <!-- AUTH MODAL -->
    <div id="auth-modal" class="modal-container">
        <div class="modal-overlay" onclick="window.closeModal('auth')"></div>
        <div class="modal-content glass p-12 max-w-md border-white/10">
            <button class="close-btn" onclick="window.closeModal('auth')">✕</button>
            <div id="auth-main" class="space-y-10 pt-4">
                <div class="text-center">
                    <h3 id="auth-title" class="text-4xl font-display italic mb-3">Welcome</h3>
                    <p class="text-[10px] uppercase tracking-widest text-white/30">Sign in to your account</p>
                </div>
                <form id="auth-form" class="space-y-6">
                    <div id="signup-only" class="hidden space-y-6">
                        <input type="text" id="auth-name" placeholder="Full Name" class="form-input">
                        <input type="password" id="admin-secret" placeholder="Admin Code (Optional)" class="form-input">
                    </div>
                    <input type="email" id="auth-email" placeholder="Email Address" class="form-input" required>
                    <input type="password" id="auth-pass" placeholder="Password" class="form-input" required>
                    <button type="submit" class="btn-premium w-full py-5 rounded-2xl text-xs mt-4">Confirm</button>
                    <div class="text-center text-[10px] uppercase tracking-widest text-white/30 mt-8">
                        <span id="auth-toggle-msg">New here?</span>
                        <button type="button" onclick="window.toggleAuthMode()" id="auth-toggle-btn" class="text-amber-500 font-bold ml-2">Register</button>
                    </div>
                </form>
            </div>
            <div id="auth-otp" class="hidden text-center space-y-10 pt-4">
                <h3 class="text-4xl font-display italic">Verify</h3>
                <p class="text-xs text-white/40">Enter the code sent to your email.</p>
                <input type="text" id="otp-code" class="form-input text-center text-3xl tracking-[0.6em]" maxlength="6">
                <button onclick="window.verifyOTP()" class="btn-premium w-full py-5 rounded-2xl text-xs">Verify Code</button>
            </div>
            <p id="auth-error" class="text-red-500 text-[10px] text-center mt-8 h-4 italic"></p>
        </div>
    </div>

    <!-- PRODUCT DETAIL MODAL -->
    <div id="detail-modal" class="modal-container">
        <div class="modal-overlay" onclick="window.closeModal('detail')"></div>
        <div class="modal-content glass max-w-5xl max-h-[95vh] overflow-y-auto no-scrollbar rounded-[3.5rem] border-white/10">
            <button class="close-btn" onclick="window.closeModal('detail')">✕</button>
            <div id="detail-body" class="p-0"></div>
        </div>
    </div>

    <!-- ADD PRODUCT MODAL -->
    <div id="add-product-modal" class="modal-container">
        <div class="modal-overlay" onclick="window.closeModal('add-product')"></div>
        <div class="modal-content glass p-12 max-w-xl rounded-[3rem] border-white/10">
            <button class="close-btn" onclick="window.closeModal('add-product')">✕</button>
            <h3 class="text-4xl font-display italic mb-10 pt-4">Add New Item</h3>
            <form id="product-form" class="grid grid-cols-2 gap-6">
                <div class="col-span-2"><input type="text" id="p-name" placeholder="Product Title" class="form-input"></div>
                <div class="col-span-1"><input type="number" id="p-price" placeholder="Price" class="form-input"></div>
                <div class="col-span-1"><input type="number" id="p-stock" placeholder="Stock Qty" class="form-input"></div>
                <div class="col-span-2"><input type="text" id="p-category" placeholder="Category" class="form-input"></div>
                <div class="col-span-2"><input type="text" id="p-image" placeholder="Image URL" class="form-input"></div>
                <div class="col-span-2"><textarea id="p-desc" placeholder="Product Description" class="form-input h-32"></textarea></div>
                <div class="col-span-2 flex gap-4 pt-6">
                    <button type="button" onclick="window.closeModal('add-product')" class="flex-1 bg-white/5 py-5 rounded-2xl text-xs uppercase tracking-widest text-white/50 border border-white/5">Cancel</button>
                    <button type="submit" class="flex-1 btn-premium py-5 rounded-2xl text-xs">Add Product</button>
                </div>
            </form>
        </div>
    </div>

    <!-- CART DRAWER -->
    <div id="cart-drawer" class="fixed inset-y-0 right-0 w-full max-w-md glass border-l border-white/10 z-[1000] translate-x-full transition-transform duration-700 shadow-2xl">
        <div class="flex flex-col h-full p-10">
            <div class="flex justify-between items-center mb-16">
                <h2 class="text-4xl font-display italic">Your Bag</h2>
                <button onclick="window.toggleCart(false)" class="w-10 h-10 flex items-center justify-center bg-white/5 rounded-full text-white/30 hover:text-white transition-colors">✕</button>
            </div>
            
            <div id="cart-items" class="flex-grow overflow-y-auto space-y-8 no-scrollbar"></div>
            
            <div id="cart-footer" class="pt-12 border-t border-white/10 space-y-10">
                <div class="flex justify-between items-end">
                    <span class="text-[10px] uppercase tracking-[0.2em] text-white/30">Subtotal</span>
                    <span id="cart-total" class="text-3xl font-display italic gold-glow">Rs. 0</span>
                </div>
                
                <div id="checkout-form" class="hidden space-y-5 animate-in fade-in slide-in-from-bottom-5">
                    <p class="text-[10px] text-amber-500 uppercase text-center font-bold tracking-[0.3em] mb-4">Payment Information</p>
                    <input type="text" placeholder="Card Number" class="form-input text-center tracking-[0.4em]">
                    <div class="grid grid-cols-2 gap-4">
                        <input type="text" placeholder="MM/YY" class="form-input text-center">
                        <input type="text" placeholder="CVC" class="form-input text-center">
                    </div>
                    <button onclick="window.executeTransaction()" class="btn-premium w-full py-5 rounded-2xl text-xs shadow-xl mt-4">Confirm Order</button>
                </div>
                
                <button id="checkout-btn" onclick="window.showCheckout()" class="w-full btn-premium py-5 rounded-2xl text-xs shadow-lg">Checkout</button>
            </div>
        </div>
    </div>

    <footer class="bg-black/80 py-32 text-center border-t border-white/5">
        <div class="container mx-auto px-6 space-y-10">
            <h2 class="text-4xl font-display italic gold-glow tracking-[0.3em]">Shani Fashion</h2>
            <div class="flex justify-center space-x-12">
                <a href="#" class="text-[11px] uppercase text-white/30 hover:text-white transition-colors tracking-widest">Shop</a>
                <a href="#" class="text-[11px] uppercase text-white/30 hover:text-white transition-colors tracking-widest">About</a>
                <a href="#" class="text-[11px] uppercase text-white/30 hover:text-white transition-colors tracking-widest">Policy</a>
            </div>
            <p class="text-[8px] text-white/10 uppercase tracking-[0.6em] pt-12">&copy; 2025 SHANI FASHION ATELIER. ALL RIGHTS RESERVED.</p>
        </div>
    </footer>

    <script type="module" src="./index.js"></script>
</body>
</html>